doctrine:
    dbal:
        # Use PostgreSQL platform for test environment (matches production)
        platform: 'doctrine.dbal.platform.postgresql'
        # Override server version for PostgreSQL compatibility
        server_version: '16'
        # Ensure PostgreSQL-specific options
        options:
            # PostgreSQL-specific connection options
            1002: "SET timezone='UTC'"
        # Enable PostgreSQL-specific features
        schema_filter: '~^(?!pg_stat_statements)~'
        # Use PostgreSQL-compatible mapping types
        mapping_types:
            citext: citext
            # Ensure TEXT columns work properly with PostgreSQL
            text: text
